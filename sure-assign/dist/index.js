"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(s){for(var t,n=1,r=arguments.length;n<r;n++)for(var e in t=arguments[n])Object.prototype.hasOwnProperty.call(t,e)&&(s[e]=t[e]);return s}).apply(this,arguments)};exports.__esModule=!0,exports.sureAssignDefautOptions=exports.ConsistentAssigner=void 0;var error_handling_1=require("./error-handling"),__defaults={complient:!0,verbose:!0,passmiss:!1,sort:"no",unsure:!1},ConsistentAssigner=function(){function s(){this.options={},this.initOptions(),this.errorHandler=new error_handling_1.ErrorHandler(this)}return s.prototype.assign=function(o){for(var a=this,s=[],t=1;t<arguments.length;t++)s[t-1]=arguments[t];var u=Object.assign({},o);return s.forEach(function(s){var t=a.errorHandler.validateAssignement(o,s),n=a.options,r=n.complient,e=n.passmiss,i=t.reasons.includes("missing property"),n=a.options.unsure;(!t.reasons.length||i&&r&&!e||n)&&(u=Object.assign(u,s))}),this.sort(u)},s.prototype.sort=function(s){function t(n){return Object.entries(s).sort(function(s,t){s=s[0],t=t[0];return n(s,t)}).reduce(function(s,t){var n=t[0],t=t[1];return __assign(__assign({},s),((s={})[n]=t,s))},{})}var n=s;return"asc"===this.options.sort?n=t(function(s,t){return s<t?-1:1}):"dsc"===this.options.sort&&(n=t(function(s,t){return s<t?1:-1})),n},s.prototype.with=function(s){this.errorHandler.validateAssignement(__defaults,s=void 0===s?__defaults:s);var t=s.complient,n=void 0===t?__defaults.complient:t,r=s.verbose,e=void 0===r?__defaults.verbose:r,t=s.passmiss,r=void 0===t?__defaults.passmiss:t,t=s.sort,t=void 0===t?__defaults.sort:t,s=s.unsure,s=void 0===s?__defaults.unsure:s;return this.options=Object.assign(this.options,{complient:n,passmiss:r,verbose:e,sort:t,unsure:s}),this},s.prototype.initOptions=function(){this.options=Object.assign(this.options,__defaults)},s}();exports.ConsistentAssigner=ConsistentAssigner;var sureAssignDefautOptions=__defaults;exports.sureAssignDefautOptions=sureAssignDefautOptions;